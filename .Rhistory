##library(dplyr);
##library(stringr);
x_test <- read.table("test/X_test.txt");
y_test <- read.table("test/y_test.txt");
y_test <- y_test$V1;
y_test <- as.factor(y_test);
subject_test <- read.table("test/subject_test.txt");
subject_test <- subject_test$V1;
subject_test <- as.factor(subject_test);
x_train <- read.table("train/X_train.txt");
y_train <- read.table("train/y_train.txt");
y_train <- y_train$V1;
y_train <- as.factor(y_train);
subject_train <- read.table("train/subject_train.txt");
subject_train <- subject_train$V1;
subject_train <- as.factor(subject_train);
features <- read.table("features.txt");
features <- as.character(features$V2);
features <- str_replace_all(features, "-", "");
features <- str_replace_all(features, "[(][)]", "");
colnames(x_test) <- features;
colnames(x_train) <- features;
x_test <- x_test[1:6];
x_train <- x_train[1:6];
x_test <- mutate(x_test, Subject = subject_test, Activity = y_test);
x_train <- mutate(x_train, Subject = subject_train, Activity = y_train);
x_test <- group_by(x_test, Subject, Activity, add = T);
x_train <- group_by(x_train, Subject, Activity, add = T);
x_test <- summarise(x_test, meanX = mean(tBodyAccmeanX), meanY =  mean(tBodyAccmeanY),
meanZ = mean(tBodyAccmeanZ), stdX = mean(tBodyAccstdX),
stdY = mean(tBodyAccstdY), stdZ = mean(tBodyAccstdZ));
x_train <- summarise(x_train, meanX = mean(tBodyAccmeanX), meanY =  mean(tBodyAccmeanY),
meanZ = mean(tBodyAccmeanZ), stdX = mean(tBodyAccstdX),
stdY = mean(tBodyAccstdY), stdZ = mean(tBodyAccstdZ));
Final_table <- rbind(x_test, x_train);
Final_table <- mutate(Final_table, Activity = factor(1:6), Activity_labels = c("WALKING",
"WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING",
"sTANDING", "LAYING"));
Final_table <- select(Final_table, -Activity);
Final_table <- Final_table[c(1,8,2,3,4,5,6,7)];
Final_table$Subject <- as.numeric(Final_table$Subject);
View(Final_table)
Final_table2 <- read.table("Tidy_data_set.txt")
View(Final_table2)
rm(Final_table2)
write.table(Final_table, "Tidy_Data_Set.txt")
